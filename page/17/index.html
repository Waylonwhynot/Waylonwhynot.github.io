<!DOCTYPE html><html lang="zh-Hans" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>YouNeed - what</title><meta name="author" content="Waylon Yan"><meta name="copyright" content="Waylon Yan"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="tech life sharing">
<meta property="og:type" content="website">
<meta property="og:title" content="YouNeed">
<meta property="og:url" content="http://yoursite.com/page/17/index.html">
<meta property="og:site_name" content="YouNeed">
<meta property="og:description" content="tech life sharing">
<meta property="og:locale">
<meta property="og:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png">
<meta property="article:author" content="Waylon Yan">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://yoursite.com/page/17/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'YouNeed',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2025-08-05 00:43:58'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.0.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">266</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">40</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">25</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Catagroires</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/gh/Waylonwhynot/whatyouneed_blog_pic@main/pic/_R95VMWyn7A.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">YouNeed</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Catagroires</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">YouNeed</h1><div id="site_social_icons"><a class="social-icon" href="https://github.com/Waylonwhynot" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:ywl1006@outlook.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/posts/13299.html" title="Go-06-String类型"><img class="post_bg" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go-06-String类型"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/13299.html" title="Go-06-String类型">Go-06-String类型</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-06-19T10:22:30.000Z" title="Created 2021-06-19 18:22:30">2021-06-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Go/">Go</a></span></div><div class="content">Go String型/ 字符串处理strings包


Go String型字符串是一个不可改变的字节序列。
Go string通常是用来包含人类可读的文本。
文本字符串通常被解释为采用 UTF8 编码的 Unicode 码点。
Go的字符串由单个字节连接起来。
123456package mainfunc main() &#123;    var city string = &quot;我爱北京天安门&quot;    println(city)    // city[0]=&#x27;1&#x27; 错误，go的字符串不可变&#125;

Go的字符串用双引号识别，识别转义字符”\n \t”
1234567891011121314package mainimport &quot;fmt&quot;func main() &#123;    //识别转义符    var story string = &quot;妖怪\n放了我师父&quot;    fmt.Println(story)    //反引号，以原生形式输出，包括特殊字符，防止注入攻击    story2 := `你看这个 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/25552.html" title="Go-05-运算符"><img class="post_bg" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go-05-运算符"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/25552.html" title="Go-05-运算符">Go-05-运算符</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-06-18T14:57:08.000Z" title="Created 2021-06-18 22:57:08">2021-06-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Go/">Go</a></span></div><div class="content">运算符




运算符Go 语言内置的运算符有：

算术运算符
关系运算符
逻辑运算符
位运算符
赋值运算符

算术运算符


运算符
描述



+
相加


-
相减


*
相乘


/
相除


%
求余


注意： ++（自增）和--（自减）在Go语言中是单独的语句，并不是运算符。
关系运算符


运算符
描述



==
检查两个值是否相等，如果相等返回 True 否则返回 False。


!=
检查两个值是否不相等，如果不相等返回 True 否则返回 False。


&gt;
检查左边值是否大于右边值，如果是返回 True 否则返回 False。


&gt;=
检查左边值是否大于等于右边值，如果是返回 True 否则返回 False。


&lt;
检查左边值是否小于右边值，如果是返回 True 否则返回 False。


&lt;=
检查左边值是否小于等于右边值，如果是返回 True 否则返回 False。


逻辑运算符


运算符
描述



&amp;&amp;
逻辑 AND 运算符。 如果两边的操作数都是 True，则为 True，否则为 False。

 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/23007.html" title="Go-03-变量"><img class="post_bg" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go-03-变量"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/23007.html" title="Go-03-变量">Go-03-变量</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-06-18T10:08:51.000Z" title="Created 2021-06-18 18:08:51">2021-06-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Go/">Go</a></span></div><div class="content">变量


变量函数内定义的变量必须使用，否则报错
变量，其实就相当于给某个值设置一个昵称，此昵称代指当前值。
在Go中变量声明的基本格式为：var 变量名 类型 = 值 ，例如：
1234// 声明一个字符串类型的变量name，值为 &quot;武沛齐&quot;var name string = &quot;武沛齐&quot;// 生命一个整型类型的变量age，值为 18var age int = 18

1. 变量简写为了能让变量的声明更方便，Go还提供了一些声明变量的简化方式。

省略类型，格式为：var 变量名 = 值
123var name = &quot;武沛齐&quot;var age = 18// 在给变量赋值时已知值的类型，所以Go编译器自动可以自动检测到类型，故可简化编写。

省略var关键字，格式为：变量名 := 值 （推荐）

注意: (必须在函数内包含函数内子块使用），不能在包级别使用

12name := &quot;武沛齐&quot;age := 18



上述两种简化编写的方式必须是直接赋值操作，即：直接将值赋值给变量，否则无法简化。例如：先声明再赋值 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/52365.html" title="Go-02-基础入门"><img class="post_bg" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go-02-基础入门"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/52365.html" title="Go-02-基础入门">Go-02-基础入门</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-06-17T21:38:14.000Z" title="Created 2021-06-18 05:38:14">2021-06-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Go/">Go</a></span></div><div class="content">Go基础入门




1. 输出输出，在运行代码时将内容在终端输出。
12345package mainimport &quot;fmt&quot;func main() &#123;    fmt.Println(&quot;叫爸爸&quot;)&#125;

上一节的代码中使用了fmt.Println方法进行了输出。
在Go中提供了多种输出的方式，接下来我们就来详细聊聊。
1.1 内置函数在Go的内置函数中提供了 Print 和 Println两个函数用于做输出。

print，输出
println，输出并在最后位置添加换行符

示例1：
123456package mainfunc main() &#123;    print(&quot;好吃不过饺子&quot;)        print(&quot;好玩不过嫂子&quot;)&#125;&gt;&gt;&gt; 最终输出：好吃不过饺子好玩不过嫂子

示例2：
123456package mainfunc main() &#123;    println(&quot;好吃不过饺子&quot;)        println(& ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/14935.html" title="容器杂记"><img class="post_bg" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="容器杂记"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/14935.html" title="容器杂记">容器杂记</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-06-17T16:31:08.000Z" title="Created 2021-06-18 00:31:08">2021-06-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Linux/">Linux</a></span></div><div class="content">杂记




这里需要修改iptables优化SNAT规则，否则在访问时，其他节点记录的是node节点的ip 10.4.7.21，而不是pod集群内部的172.7.21.x，红色部分按需修改
1yum install iptables-services -y

1234# iptables -t nat -D POSTROUTING -s 172.7.21.0&#x2F;24 ! -o docker0 -j MASQUERADE其含义是：如果网桥 docker0 收到来自 172.7.21.0&#x2F;24  网段的外出包外出包外出包，把它交给 MASQUERADE 处理。而 MASQUERADE 的处理方式是将包的源地址替换成 host 的地址发送出去，即做了一次网络地址转换（NAT）。源地址是容器网段，不是从docker0出去，而是到了docker0（相当于本地网阿卡）之后，发现数据包目的地址是外面而是最终通过路由从eth0出去的， 进行snat转换

这条规则会将源地址为172.17.0.0/16的包（也就是从Docker容器产生的包），并且不是从docker0网卡发出的，进行 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/35751.html" title="DRF-07-过滤分页异常处理"><img class="post_bg" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="DRF-07-过滤分页异常处理"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/35751.html" title="DRF-07-过滤分页异常处理">DRF-07-过滤分页异常处理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-06-13T20:31:23.000Z" title="Created 2021-06-14 04:31:23">2021-06-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/DRF/">DRF</a></span></div><div class="content">过滤/分页/异常处理


一 过滤Filtering12345678910111213141516171819202122三种方式：(1)内置过滤类SearchFilter  使用前提：最顶层的类至少是GenericAPIView视图类中添加 search_fields=[&#x27;name&#x27;,&#x27;publish&#x27;] 属性# 查询使用http://127.0.0.1:8000/books/?search=达   # 出版社中或名字中有 达 就能查询出来(2)扩展插件django-filter 视图类中添加 filter_fields 属性# 127.0.0.1:8000/four/students/?sex=1(3)方式一: 自定义过滤类BaseFilterBackend   1 继承BaseFilterBackend   2 重写filter_queryset，在内部实现过滤逻辑，返回queryset对象   3 在视图类配置  filter_backends = [DjangoFilterBackend,SearchByName]     放置顺序问题 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/11207.html" title="DRF-06-认证权限频率"><img class="post_bg" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="DRF-06-认证权限频率"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/11207.html" title="DRF-06-认证权限频率">DRF-06-认证权限频率</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-06-11T15:20:56.000Z" title="Created 2021-06-11 23:20:56">2021-06-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/DRF/">DRF</a></span></div><div class="content">认证权限频率


0.1 认证类的写法123456789101112131415# 认证的实现  1. 写一个类，继承BaseAuthentication，重写 authenticate(self, request):        # 认证逻辑，如果认真通过，返回两个值，一个值最终给了request.user,         # 如果认证失败，抛出AuthenticationFailed(继承APIException)异常                                                                                                                                                                                                                                                                                              ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/27141.html" title="DRF-05-路由组件"><img class="post_bg" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="DRF-05-路由组件"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/27141.html" title="DRF-05-路由组件">DRF-05-路由组件</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-06-11T15:11:52.000Z" title="Created 2021-06-11 23:11:52">2021-06-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/DRF/">DRF</a></span></div><div class="content">路由Routers


12345678910# 1.路由# 2.3中写法  - django传统的路由(CBV路由),   path(&#x27;test/&#x27;, views.TestView.as_view()),  - 只要继承ViewSetMixin: path(&#x27;books/&#x27;, views.BookViewSet.as_view(&#123;&#x27;get&#x27;:&#x27;list&#x27;, &#x27;post&#x27;:&#x27;create&#x27;&#125;))  - 自动生成路由  ###### 只有视图继承 ViewSetMixin+ 9个视图子类 (原因是视图子类有对应的list create 等等方法),才能用router。 ###### 推荐用  include  可以加 前缀，比如 /api/v1



前提  #######重点1234567891011121314151617181920# 1.自动生成路由的前提:(1) 只有视图继承 ViewSetMixin + 9个视图子类；才能用router。 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/55381.html" title="Go-01-第一个Go程序"><img class="post_bg" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go-01-第一个Go程序"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/55381.html" title="Go-01-第一个Go程序">Go-01-第一个Go程序</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-06-09T02:43:22.000Z" title="Created 2021-06-09 10:43:22">2021-06-09</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Go/">Go</a></span></div><div class="content">第一个Go程序


12设置国内代理go env -w GOPROXY&#x3D;https:&#x2F;&#x2F;goproxy.cn,direct





历程Go 语言是由谷歌的开发工程师(罗伯特·格瑞史莫、罗勃·派克、肯·汤普逊等)于 2007 年 开始设计，利用 20%的自由时间开发的实验项目，并于 2009 年以 BSD-style 授权（完全开 源）首次公开发布，于 2012 年正式发布
优势
简单的部署方式
可直接编译成机械码
不依赖其他库
直接运行即可部署


静态类型语言
编译的时候可以检测出隐藏的大多数问题
强类型方便阅读与重构


语言层面的并发
天生的基于支持
充分利用多核


工程化比较优秀
GoDoc 可以直接从代码和注释生成漂亮的文档
GoFmt 统一的代码格式
GoLint 代码语法提示
测试框架内置


强大的标准库
Runtime系统调度机制
高效的GC垃圾回收
丰富的标准库


简单易学
25个关键字
C语言简洁基因，内嵌C语言语法支持
面向对象特征(继承, 多态，封装)
跨平台



缺陷
包管理, 大部分都在 github上
作者修改项目 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/3622.html" title="DRF-04-视图组件"><img class="post_bg" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="DRF-04-视图组件"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/3622.html" title="DRF-04-视图组件">DRF-04-视图组件</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-06-06T13:23:17.000Z" title="Created 2021-06-06 21:23:17">2021-06-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/DRF/">DRF</a></span></div><div class="content">视图基类/ 视图扩展类/ GenericAPIView的视图子类


1231.perform_create、destroy  好处可扩展，可以重写perform_create 然后扩展2.is_valid(validator&#x3D;) 直接抛异常，全局捕获 好处是不用写if else3.





一 视图Django REST framwork 提供的视图的主要作用：

控制序列化器的执行（检验、保存、转换数据）
控制数据库查询的执行

1.1 视图继承关系
视图的方法与属性：

1.2 视图REST framework 提供了众多的通用视图基类与扩展类，以简化视图的编写。
1.2.1 2个视图基类1.2.1.1 APIView（继承了View）1rest_framework.views.APIView

APIView是REST framework提供的所有视图的基类，继承自Django的View父类。
APIView与View的不同之处在于：

传入到视图方法中的是REST framework的Request对象，而不是Django的HttpRequeset对象；
视图方法 ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/16/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/16/#content-inner">16</a><span class="page-number current">17</span><a class="page-number" href="/page/18/#content-inner">18</a><span class="space">&hellip;</span><a class="page-number" href="/page/27/#content-inner">27</a><a class="extend next" rel="next" href="/page/18/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Waylon Yan</div><div class="author-info__description">tech life sharing</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">266</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">40</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">25</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Waylonwhynot" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:ywl1006@outlook.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">无止境</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/5677.html" title="AI-08-A2A"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AI-08-A2A"/></a><div class="content"><a class="title" href="/posts/5677.html" title="AI-08-A2A">AI-08-A2A</a><time datetime="2025-06-21T07:22:33.000Z" title="Created 2025-06-21 15:22:33">2025-06-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/18525.html" title="AI-07-MCP"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AI-07-MCP"/></a><div class="content"><a class="title" href="/posts/18525.html" title="AI-07-MCP">AI-07-MCP</a><time datetime="2025-06-08T06:19:30.000Z" title="Created 2025-06-08 14:19:30">2025-06-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/65143.html" title="AI-06-dify"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AI-06-dify"/></a><div class="content"><a class="title" href="/posts/65143.html" title="AI-06-dify">AI-06-dify</a><time datetime="2025-06-08T06:19:08.000Z" title="Created 2025-06-08 14:19:08">2025-06-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/45471.html" title="AI-05-coze"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AI-05-coze"/></a><div class="content"><a class="title" href="/posts/45471.html" title="AI-05-coze">AI-05-coze</a><time datetime="2025-05-17T15:16:48.000Z" title="Created 2025-05-17 23:16:48">2025-05-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/34613.html" title="AI-04-提示词工程"><img src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AI-04-提示词工程"/></a><div class="content"><a class="title" href="/posts/34613.html" title="AI-04-提示词工程">AI-04-提示词工程</a><time datetime="2025-05-17T15:15:51.000Z" title="Created 2025-05-17 23:15:51">2025-05-17</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            <a class="card-more-btn" href="/categories/" title="More">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/AI/"><span class="card-category-list-name">AI</span><span class="card-category-list-count">10</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/DRF/"><span class="card-category-list-name">DRF</span><span class="card-category-list-count">14</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/DevOps/"><span class="card-category-list-name">DevOps</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Django/"><span class="card-category-list-name">Django</span><span class="card-category-list-count">27</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Flask/"><span class="card-category-list-name">Flask</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Go/"><span class="card-category-list-name">Go</span><span class="card-category-list-count">45</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Linux/"><span class="card-category-list-name">Linux</span><span class="card-category-list-count">50</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Python/"><span class="card-category-list-name">Python</span><span class="card-category-list-count">1</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/AI/" style="font-size: 1.3em; color: #99a1ac">AI</a> <a href="/tags/Ceph/" style="font-size: 1.13em; color: #999a9c">Ceph</a> <a href="/tags/DB/" style="font-size: 1.23em; color: #999ea6">DB</a> <a href="/tags/DRF/" style="font-size: 1.1em; color: #999">DRF</a> <a href="/tags/DevOps/" style="font-size: 1.1em; color: #999">DevOps</a> <a href="/tags/Django/" style="font-size: 1.4em; color: #99a5b6">Django</a> <a href="/tags/Go/" style="font-size: 1.47em; color: #99a8bc">Go</a> <a href="/tags/LDAP/" style="font-size: 1.1em; color: #999">LDAP</a> <a href="/tags/Linux%E5%9F%BA%E7%A1%80/" style="font-size: 1.1em; color: #999">Linux基础</a> <a href="/tags/Load-Balance/" style="font-size: 1.1em; color: #999">Load Balance</a> <a href="/tags/Nginx/" style="font-size: 1.13em; color: #999a9c">Nginx</a> <a href="/tags/ORM/" style="font-size: 1.27em; color: #99a0a9">ORM</a> <a href="/tags/Tools/" style="font-size: 1.1em; color: #999">Tools</a> <a href="/tags/Ubuntu/" style="font-size: 1.13em; color: #999a9c">Ubuntu</a> <a href="/tags/Vue/" style="font-size: 1.1em; color: #999">Vue</a> <a href="/tags/ansible/" style="font-size: 1.1em; color: #999">ansible</a> <a href="/tags/automation/" style="font-size: 1.17em; color: #999c9f">automation</a> <a href="/tags/book/" style="font-size: 1.1em; color: #999">book</a> <a href="/tags/ceph/" style="font-size: 1.1em; color: #999">ceph</a> <a href="/tags/cmdb/" style="font-size: 1.1em; color: #999">cmdb</a> <a href="/tags/consul/" style="font-size: 1.2em; color: #999da3">consul</a> <a href="/tags/deploy/" style="font-size: 1.1em; color: #999">deploy</a> <a href="/tags/kubernetes/" style="font-size: 1.1em; color: #999">kubernetes</a> <a href="/tags/note/" style="font-size: 1.5em; color: #99a9bf">note</a> <a href="/tags/other/" style="font-size: 1.1em; color: #999">other</a> <a href="/tags/prometheus/" style="font-size: 1.17em; color: #999c9f">prometheus</a> <a href="/tags/python/" style="font-size: 1.33em; color: #99a2af">python</a> <a href="/tags/python-exercise/" style="font-size: 1.13em; color: #999a9c">python_exercise</a> <a href="/tags/review/" style="font-size: 1.1em; color: #999">review</a> <a href="/tags/shell/" style="font-size: 1.1em; color: #999">shell</a> <a href="/tags/software/" style="font-size: 1.1em; color: #999">software</a> <a href="/tags/vue/" style="font-size: 1.37em; color: #99a4b2">vue</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 1.1em; color: #999">前端</a> <a href="/tags/%E5%8F%91%E5%B8%83%E7%B3%BB%E7%BB%9F/" style="font-size: 1.1em; color: #999">发布系统</a> <a href="/tags/%E5%AE%B9%E5%99%A8/" style="font-size: 1.43em; color: #99a6b9">容器</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 1.1em; color: #999">数据结构</a> <a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 1.1em; color: #999">网络</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 1.1em; color: #999">设计模式</a> <a href="/tags/%E8%BF%90%E7%BB%B4/" style="font-size: 1.1em; color: #999">运维</a> <a href="/tags/%E8%BF%90%E7%BB%B4%E7%B3%BB%E7%BB%9F/" style="font-size: 1.1em; color: #999">运维系统</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span><a class="card-more-btn" href="/archives/" title="More">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/06/"><span class="card-archive-list-date">June 2025</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/05/"><span class="card-archive-list-date">May 2025</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/03/"><span class="card-archive-list-date">March 2025</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/02/"><span class="card-archive-list-date">February 2025</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/11/"><span class="card-archive-list-date">November 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">October 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/09/"><span class="card-archive-list-date">September 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">April 2023</span><span class="card-archive-list-count">2</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">266</div></div><div class="webinfo-item"><div class="item-name">UV :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">PV :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2025-08-04T16:43:57.634Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By Waylon Yan</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Local search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>